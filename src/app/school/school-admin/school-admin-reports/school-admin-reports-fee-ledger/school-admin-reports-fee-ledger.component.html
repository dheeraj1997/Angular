<div class="row">
	<div class="col-md-12">
		<div class="card">
			<div class="card-header row">
				<div class="col-md-12">
					<div class="pull-left"> 
						Fee Ledger
					</div>
					<div class="pull-right" *ngIf="ledgerData.length">
						<button class="btn card " style="margin-bottom: 0px" (click)="generateCsv()">
							Print Ledger
						</button>
					</div>
				</div>
			</div>
			<div class="card-block">
				<div class="row">
					<div class="form-group col-md-5">
						<label>
							<b>Select Session</b>
						</label>
						<select class="form-control"
						[(ngModel)]="selectedSession"
						(change)="onSessionChange()">
						<option value="{{sess._id}}" *ngFor="let sess of sessionData;">
							{{sess.name}}
						</option>
					</select>
				</div>
				<div class="form-group col-md-5">
					<label>
						<b>Select Class</b>
					</label>
					<select class="form-control"
					[(ngModel)]="selectedClass"
					(change)="onClassChange()">
					<option value="{{cls._id}}" *ngFor="let cls of classData;">
						{{cls.name}}
					</option>
				</select>
			</div>
			<div class="form-group col-md-2">
				<button class="btn btn-primary"
				style="margin-top: 29px;"
				[disabled]="!selectedClass || !selectedSession"
				(click)="generateLedger()">Generate
			</button>
		</div>
	</div> 
	<div class="col-md-12" *ngIf="ledgerData.length" >  
		<div class="no-more-tables custom-overflow">
			<table class="table table-bordered table-striped mb-0">
				<thead>
					<tr>
						<th>
							Roll No
						</th>
						<th>
							Student Name
						</th>
						<th *ngFor="let mon of allMonths;">
							{{mon}}
						</th>
						<th>
							Submitted
						</th>
						<th>
							Remaining
						</th>
						<th>
							Total
						</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let student of ledgerData;let i = index; ">
						<td headers="Roll No">
							{{student.rollNo}}
						</td>
						<td headers="Student Name">
							{{student.name}}
						</td>
						<td [headers]="mon" *ngFor="let mon of allMonths;">
							{{student.feeData[mon]}}
						</td>
						<td headers="Submitted">
							{{student.feeData.totalCollected}}
						</td>
						<td headers="Remaining">
							{{student.feeData.total - student.feeData.totalCollected}}
						</td>
						<td headers="Total">
							{{student.feeData.total}}
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div> 
</div>
</div>
</div>
