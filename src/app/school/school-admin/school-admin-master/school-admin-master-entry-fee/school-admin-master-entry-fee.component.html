<div class="row">
  <div class="col-lg-12">
    <div class="card">
      <div class="card-block">
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label>
                <b>Select Session</b>
              </label>
              <select
                class="form-control"
                [(ngModel)]="selectedSession"
                (change)="onSessionSelect()">
                <option
                  value="{{sess._id}}"
                  *ngFor="let sess of sessionData;">
                  {{sess.name}}
                  ({{sess.startDate.year}}/{{sess.startDate.month}}/{{sess.startDate.day}}
                  to {{sess.endDate.year}}/{{sess.endDate.month}}/{{sess.endDate.day}})
                </option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label>
                <b>Select Class</b>
              </label>
              <select
                class="form-control"
                [(ngModel)]="selectedClass"
                (ngModelChange)="onClassSelect()">
                <option
                  value="{{cls._id}}"
                  *ngFor="let cls of classData;">
                  {{cls.name}}
                </option>
              </select>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="selectedSession && selectedClass">
      <div class="card" *ngFor="let feeRow of feesData;let k = index;" [ngClass]="{'no-edit':!feeRow.isEdit}">
        <div class="card-block">
          <div class="row">
            <div class="col-md-12">
              <button
                *ngIf="feeRow.isEdit"
                class="btn btn-outline-danger pull-right"
                placement="top"
                ngbTooltip="Delete Fees"
                (click)="removeCard(k)">
                <i class="fa fa-remove"></i>
              </button>
              <button
                *ngIf="!feeRow.isEdit"
                class="btn btn-outline-success pull-right"
                placement="top"
                ngbTooltip="Edit Fees"
                (click)="editCard(feeRow)">
                <i class="fa fa-edit"></i>
              </button>
            </div>
          </div>
          <div class="row">
            <div class="form-group col-md-5">
              <label>
                Particulars
                <span style="color: red">*</span>
              </label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="feeRow.feeData.particular">
              <small class="form-text text-muted">
                Enter particular details.
              </small>
            </div>
            <div class="form-group col-md-2">
              <label>
                Amount
                <span style="color: red">*</span>
              </label>
              <input
                class="form-control"
                type="number"
                [(ngModel)]="feeRow.feeData.amount">
              <small class="form-text text-muted">
                Enter amount.
              </small>
            </div>
            <div class="form-group col-md-3">
              <label>
                Type
                <span style="color: red">*</span>
              </label>
              <select
                [(ngModel)]="feeRow.feeData.type"
                class="form-control">
                <option
                  *ngFor="let ft of feeTypes;"
                  value="{{ft}}">
                  {{ft | uppercase}}
                </option>
              </select>
              <small class="form-text text-muted">
                Select Fee Type from Dropdown.
              </small>
            </div>
            <div class="form-group col-md-2"
                 *ngIf="feeRow.feeData.type !== 'admission'">
              <label>
                Due Date
                <span style="color: red">*</span>
              </label>
              <input
                class="form-control"
                type="number"
                min="1"
                max="31"
                [(ngModel)]="feeRow.feeData.dueDate">
              <small class="form-text text-muted">
                Enter Due Date.
              </small>
            </div>
          </div>
          <!--<div class="form-group">-->
          <!--<label-->
          <!--class="custom-control custom-checkbox"-->
          <!--*ngFor="let month of feeRow.months;">-->
          <!--<input-->
          <!--type="checkbox"-->
          <!--[(ngModel)]="month.selected"-->
          <!--class="custom-control-input">-->
          <!--<span class="custom-control-indicator"></span>-->
          <!--<span class="custom-control-description">-->
          <!--{{month.name | uppercase}}-->
          <!--</span>-->
          <!--</label>-->
          <!--</div>-->
          <div class="form-group" *ngIf="feeRow.feeData.type !== 'admission'">
            <label>
              Select Months
              <span style="color: red">*</span>
            </label>
            <div>
              <button
                type="button"
                class="btn"
                *ngFor="let month of feeRow.feeData.months;"
                [ngClass]="{'btn-success':month.selected, 'btn-outline-success':!month.selected}"
                (click)="month.selected = !month.selected"
                style="margin-right: 10px; margin-bottom: 10px;">
                {{month.name | uppercase}}
              </button>
            </div>
          </div>

        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <span style="color: red"> * </span> &nbsp;&nbsp;
          Required Feilds
        </div>
        <div class="card-block">
          <button
            type="submit"
            class="btn btn-primary pull-right"
            (click)="save()"
            [disabled]="isDisable===true">Submit
          </button>

          <button
            type="button"
            class="btn btn-success"
            (click)="addFeeRow()">Add New Row
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
